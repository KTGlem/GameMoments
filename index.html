<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- user-scalable=no prevents accidental pinch-zoom during frantic tapping -->
  <!-- viewport-fit=cover handles iPhone notch / Dynamic Island -->
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">

  <!-- PWA / installability -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="GameMoments">
  <!-- Scoreboard header uses dark green-black; match the status bar -->
  <meta name="theme-color" content="#0b140b">

  <title>GameMoments</title>

  <!-- Pixel fonts for 8-bit scoreboard header
       VT323      → clock digits (large terminal / 7-segment feel)
       Press Start 2P → labels (NES cartridge feel)
       display=swap means text stays visible while fonts load -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap">

  <link rel="manifest" href="manifest.json">
  <!-- SVG icon for modern browsers / Android PWA -->
  <link rel="icon" type="image/svg+xml" href="icons/icon.svg">
  <!-- apple-touch-icon is generated by JS canvas for PNG compatibility on iOS -->
  <link rel="apple-touch-icon" id="apple-touch-icon" href="icons/icon.svg">

  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- =====================================================
       SCREEN 1 — SETUP
       ===================================================== -->
  <div id="screen-setup" class="screen active">

    <div class="setup-logo">
      <div class="logo-wordmark">GAME<span class="logo-accent">MOMENTS</span></div>
      <div class="logo-sub">⚽ &nbsp;SOCCER LOGGER</div>
    </div>

    <div class="setup-body">
      <div class="field-group">
        <label class="field-label" for="input-opponent">OPPONENT</label>
        <input class="field-input" type="text" id="input-opponent"
               placeholder="e.g. City FC"
               autocomplete="off" autocorrect="off" autocapitalize="words">
      </div>
      <div class="field-group">
        <label class="field-label" for="input-logger">YOUR NAME</label>
        <input class="field-input" type="text" id="input-logger"
               placeholder="Logger 1"
               autocomplete="off" autocorrect="off" autocapitalize="words">
      </div>

      <button id="btn-start" class="btn-primary">
        ▶&nbsp;&nbsp;START HALF 1
      </button>
    </div>

    <div class="setup-links">
      <button id="btn-view-games" class="btn-ghost">VIEW SAVED GAMES</button>
    </div>

  </div><!-- /screen-setup -->


  <!-- =====================================================
       SCREEN 2 — LOGGING (core screen)
       ===================================================== -->
  <div id="screen-logging" class="screen">

    <!-- ── Top bar: half badge + live clock + opponent ── -->
    <div class="log-header">
      <div class="half-badge" id="half-indicator">HALF 1</div>
      <div class="clock-display" id="clock">00:00</div>
      <div class="log-opp" id="header-opponent"></div>
    </div>

    <!-- ── Event button grid (built by JS) ── -->
    <div class="event-grid" id="event-grid"></div>

    <!-- ── Footer: last 3 events + controls ── -->
    <div class="log-footer">
      <div class="recent-log" id="recent-events">
        <div class="recent-placeholder">— tap an event to log it —</div>
      </div>
      <div class="footer-controls">
        <button id="btn-undo"     class="btn-undo">↩ UNDO</button>
        <button id="btn-half2"    class="btn-half2    hidden">HALF 2 ▶</button>
        <button id="btn-end-game" class="btn-end-game hidden">END ■</button>
      </div>
    </div>

  </div><!-- /screen-logging -->


  <!-- =====================================================
       SCREEN 3 — POST-GAME REVIEW & EXPORT
       ===================================================== -->
  <div id="screen-review" class="screen">

    <div class="review-topbar">
      <button id="btn-back-to-setup"   class="btn-topbar-sm">← NEW</button>
      <div class="review-title">GAME REVIEW</div>
      <button id="btn-resume-logging"  class="btn-topbar-sm hidden">RESUME →</button>
    </div>

    <div class="review-game-info" id="review-game-info"></div>

    <!-- Filter controls -->
    <div class="filter-bar">
      <select id="filter-half"  class="filter-sel">
        <option value="all">All Halves</option>
        <option value="1">Half 1</option>
        <option value="2">Half 2</option>
      </select>
      <select id="filter-team"  class="filter-sel">
        <option value="all">All Teams</option>
        <option value="PFC">PFC</option>
        <option value="OPP">Opponent</option>
      </select>
      <select id="filter-type"  class="filter-sel">
        <option value="all">All Events</option>
        <option value="GK">Goal Kick</option>
        <option value="CK">Corner</option>
        <option value="FK">Free Kick</option>
        <option value="KO">Kickoff</option>
        <option value="SO">Sideout</option>
        <option value="GOAL">Goal</option>
      </select>
    </div>

    <!-- Scrollable events list -->
    <div class="events-list" id="events-list"></div>

    <!-- Time-adjust + export (collapsed at bottom) -->
    <div class="review-bottom">
      <details class="adjust-panel">
        <summary class="adjust-summary">⏱ TIME ADJUSTMENT</summary>
        <div class="adjust-body">
          <div class="adjust-hint">Correct drift against video (±seconds per half)</div>
          <div class="adjust-row">
            <label>Half 1</label>
            <input type="number" id="adjust-h1" class="adjust-input" value="0">
            <label>Half 2</label>
            <input type="number" id="adjust-h2" class="adjust-input" value="0">
            <button id="btn-apply-adjust" class="btn-secondary">APPLY</button>
          </div>
        </div>
      </details>
      <div class="export-row">
        <button id="btn-export-csv"  class="btn-export">⬇ CSV</button>
        <button id="btn-export-text" class="btn-export">⬇ TEXT</button>
      </div>
    </div>

  </div><!-- /screen-review -->


  <!-- =====================================================
       SCREEN 4 — SAVED GAMES LIST
       ===================================================== -->
  <div id="screen-games" class="screen">

    <div class="review-topbar">
      <button id="btn-back-from-games" class="btn-topbar-sm">← BACK</button>
      <div class="review-title">SAVED GAMES</div>
      <div></div><!-- spacer -->
    </div>

    <div class="games-list" id="games-list"></div>

    <div class="games-footer">
      <button id="btn-new-game-from-list" class="btn-primary">+ NEW GAME</button>
    </div>

  </div><!-- /screen-games -->


  <!-- Toast notification (shared) -->
  <div id="toast" class="toast" aria-live="polite"></div>

  <script src="app.js"></script>
</body>
</html>
